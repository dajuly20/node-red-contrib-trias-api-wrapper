<script type="text/javascript">
  RED.nodes.registerType("trias-search-stops", {
    category: "common",
    paletteLabel: "Trias search stops",
    color: "#a6bbcf",
    defaults: {
      name: { value: "" },
      con: { value: "", type: "triasconfig" },
      searchstring: { value: "" },
    },
    inputs: 1,
    outputs: 1,
    icon: "H.svg",
    label: function () {
      return this.name || "Bus/Bahn Haltestellen";
    },
  });
</script>

<script type="text/html" data-template-name="trias-search-stops">

<div class="form-row">
    <label for="node-input-con"><i class="fa fa-tag"></i> TRIAS configuration</label>
    <input type="text" id="node-input-con">
</div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name" />
  </div>
  <div class="form-row">
    <label for="node-input-searchstring"><i class="fa fa-tag"></i>Stop name</label>
    <input type="text" id="node-input-searchstring" placeholder="Uses msg.payload if left empty" />
  </div>
</script>
<script type="text/markdown" data-help-name="trias-search-stops">
Wrapper for trias-client to search for stations.
  
  ### Inputs
  
  : payload (string | buffer) :  the name of a Station to look for.
  
  ### Outputs
  
  1. Standard output
  : payload (array) : array of stations matching the search.
  
  ### Details
  
  `msg.payload` can be overridden by the property `Station name`.
  ### References
  
      - https://github.com/public-transport/ideas/issues/18
      - https://github.com/andaryjo/trias-client
  </script>